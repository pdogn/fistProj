{"version":3,"sources":["assets/script/playGame/newPlayGame.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import ItemPrefab from \"../ItemPrefab\";\nimport Item from \"./Item\";\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class NewClass extends cc.Component {\n    @property(cc.Node)\n    itemPrefab: cc.Node = null;\n    @property(cc.Node)\n    layer: cc.Node = null;\n    @property(cc.Node)\n    layer1: cc.Node = null;\n    @property(cc.Node)\n    layer2: cc.Node = null;\n    @property(cc.Node)\n    layer3: cc.Node = null;\n    @property(cc.Node)\n    layer4: cc.Node = null;\n\n    arrayItem = [];\n\n    arrItem1 = [];\n    arrItem2 = [2, 3, 3];\n    arrItem3 = [3, 2, 2];\n    arrItem4 = [1, 3, 1];\n\n    idxClick: number = -1;\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad() {\n        this.buildMap();\n    }\n\n    start() {\n\n    }\n    // update (dt) {}\n    buildMap() {\n        this.arrayItem = [];\n        this.arrayItem.push(this.arrItem1, this.arrItem2, this.arrItem3, this.arrItem4)\n        for (let i = 0; i < this.arrayItem.length; i++) {\n            this.createItem(this.arrayItem[i], this.layer.children[i]);\n        }\n    }\n    onHanlderClickLayer1() {\n        console.log(\"onHanlderClickLayer1\");\n        this.onClickItem(1, this.arrItem1, this.layer1);\n    }\n    onHanlderClickLayer2() {\n        console.log(\"onHanlderClickLayer2\");\n        this.onClickItem(2, this.arrItem2, this.layer2);\n    }\n    onHanlderClickLayer3() {\n        console.log(\"onHanlderClickLayer3\");\n        this.onClickItem(3, this.arrItem3, this.layer3);\n    }\n    onHanlderClickLayer4() {\n        console.log(\"onHanlderClickLayer4\");\n        this.onClickItem(4, this.arrItem4, this.layer4);\n    }\n    onClickItem(idItem, arrItemClick, layerItemClick) {\n        console.log(\"onClickItem=--=-=-=\");\n        if (this.idxClick == -1) {\n            //chon diem bat dau\n            // arrItemClick cua item bay len\n            if (layerItemClick.childrenCount > 0) {\n                console.log(\"click chinh no ==> bay bong len \", arrItemClick);\n                this.moveBall(arrItemClick, layerItemClick, 1, layerItemClick);\n                this.idxClick = idItem;\n            }\n            this.idxClick == -1\n        } else {\n            if (this.idxClick == idItem) {\n                // chon dich den la diem bat dau\n                console.log(\"click chinh no lan nua ==> tha bong xuong\");\n                this.moveBall(arrItemClick, layerItemClick, 0, layerItemClick)\n                this.idxClick = -1;\n            } else {\n                // chon dich den la diem khac\n                if (this.idxClick == 2) {\n                    //   this.moveBall(this.arrItem2, this.layer2, 2, layerItemClick);\n                    this.arrItem2 = this.onHanlderClickLayer(this.arrItem2, arrItemClick, this.layer2, layerItemClick);\n                    console.log(\"dich den this.arrItem2: \", this.arrItem2);\n                } else if (this.idxClick == 3) {\n                    //   this.moveBall(this.arrItem3, this.layer3, 2, layerItemClick);\n                    this.arrItem3 = this.onHanlderClickLayer(this.arrItem3, arrItemClick, this.layer3, layerItemClick);\n                    console.log(\"dich den this.arrItem3: \", this.arrItem3);\n                } else if (this.idxClick == 1) {\n                    //   this.moveBall(this.arrItem1, this.layer1, 2, layerItemClick);\n                    this.arrItem1 = this.onHanlderClickLayer(this.arrItem1, arrItemClick, this.layer1, layerItemClick);\n                    console.log(\"dich den this.arrItem1: \", this.arrItem1);\n                } else if (this.idxClick == 4) {\n                    //   this.moveBall(this.arrItem4, this.layer4, 2, layerItemClick);\n                    this.arrItem4 = this.onHanlderClickLayer(this.arrItem4, arrItemClick, this.layer4, layerItemClick);\n                    console.log(\"dich den this.arrItem4: \", this.arrItem4);\n                }\n                this.idxClick = -1;\n            }\n        }\n    }\n    onHanlderClickLayer(arrItem = [], arrItemClick = [], layerOut, layerIn) {\n        // arrItemClick cua dich den\n        console.log(\"arrItem ban dau : \", arrItem);\n        console.log(\"arrItemClick ban dau : \", arrItemClick);\n\n        // lay phan tu cuoi cung\n        let arrMove = [arrItem[arrItem.length - 1]];\n        // lay nhung phan tu giong phan tu cuoi\n        if (arrItem.length > 1) {\n            for (let i = arrItem.length - 2; i > -1; i--) {\n                if (arrItem[i] == arrMove[0]) {\n                    arrMove.push(arrItem[i]);\n                } else {\n                    break;\n                }\n            }\n        }\n        console.log(\"arrMove : \", arrMove);\n        let arrIndexRemove = [];\n        for (let i = arrItem.length - 1; i > arrItem.length - 1 - arrMove.length; i--) {\n            arrIndexRemove.push(i);\n        }\n        // console.log(\"array index remove=--=-=-=-==-=-: \", arrIndexRemove);\n        // check max item\n        let maxItem = arrItemClick.length + arrMove.length;\n        if (maxItem > 4) {\n            this.moveBall(arrItem, layerOut, 0, layerIn);\n            return arrItem;\n            console.log(\"maxItem ==> khong di chuyen duoc\", arrItemClick, arrItem)\n        } else {\n            // xu ly di chuyen\n            // check cung mau cho di chuyen\n            if (arrItemClick[arrItemClick.length - 1] == arrMove[arrMove.length - 1] || arrItemClick.length < 1) {\n                for (let i = 0; i < arrMove.length; i++) {\n                    arrItemClick.push(arrMove[i]);\n                }\n                this.moveBall(arrItem, layerOut, 2, layerIn);\n                let index = arrItem.length - arrMove.length;\n                arrItem = arrItem.slice(0, index);\n                console.log(\"ban dau slice : \", arrItem);\n                console.log(\"dich den sau khi di chuyen: \", arrItemClick);\n                return arrItem;\n            } else {\n                this.moveBall(arrItem, layerOut, 0, layerIn);\n                console.log(\"arrItem\", arrItem, \"layerOut\", layerOut, \"layerIn\", layerIn);\n                console.log(\"chua di chuyen duoc\");\n                return arrItem;\n            }\n        }\n\n    }\n    moveBall(arrItem, layerOut, idx, layerIn) {\n        let arrMove = [arrItem[arrItem.length - 1]];\n        if (arrItem.length > 1) {\n            for (let i = arrItem.length - 2; i > -1; i--) {\n                if (arrItem[i] == arrMove[0]) {\n                    arrMove.push(arrItem[i]);\n                } else {\n                    break;\n                }\n            }\n        }\n\n        let arrIndexRemove = [];\n        for (let i = arrItem.length - 1; i > arrItem.length - 1 - arrMove.length; i--) {\n            arrIndexRemove.push(i);\n        }\n        console.log(\"arrIndexRemove=-=-=-=-\", arrIndexRemove)\n        for (let i = 0; i < arrIndexRemove.length; i++) {\n            let icon = layerOut.children[arrIndexRemove[i]];\n            // console.log(\"quang layerOut.children -=-=-=-=-=-\", layerOut.children)\n            // console.log(\"quang arrIndexRemove -=-=-=-=-=-\", arrIndexRemove)\n\n            let pos = layerIn.parent.convertToWorldSpaceAR(layerIn.position);\n            let pos1 = icon.convertToNodeSpaceAR(pos);\n            if (idx == 1) {\n                cc.tween(icon)\n                    .to(0.2, { y: layerOut.position.y + 300 + i * -50 })\n                    .start();\n            } else if (idx == 0) {\n                cc.tween(icon)\n                    .to(0.2, { y: layerOut.position.y + arrIndexRemove[i] * 50 })\n                    .start();\n            } else if (idx == 2) {\n                layerIn.getComponent(cc.Button).interactable = false;\n                layerOut.getComponent(cc.Button).interactable = false;\n                // // layerIn.addChild(icon);\n                // icon.setParent(layerIn);\n                cc.tween(icon)\n                    .to(0.2, { x: pos1.x })\n                    .to(0.2, { y: layerIn.childrenCount * 50 })\n                    .delay(0.1).call(() => {\n                        layerOut.removeChild(icon, true);\n                    })\n                    .call(() => {\n                        icon.setPosition(0, layerIn.childrenCount * 50);\n                        layerIn.addChild(icon);\n                        layerIn.getComponent(cc.Button).interactable = true;\n                        layerOut.getComponent(cc.Button).interactable = true;\n                    })\n                    .start();\n            }\n        }\n    }\n    createItem(arr = [], layer) {\n        for (let i = 0; i < arr.length; i++) {\n            let item = cc.instantiate(this.itemPrefab);\n            item.getComponent(ItemPrefab).setIndex(arr[i]);\n            item.x = 0;\n            item.y = i * 50;\n            layer.addChild(item);\n\n        }\n    }\n\n}\n"]}