{"version":3,"sources":["assets/script/playGame/newPlayGame.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import ItemPrefab from \"../ItemPrefab\";\nimport Item from \"./Item\";\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class NewClass extends cc.Component {\n    @property(cc.Node)\n    iconPrefab: cc.Node = null;\n    @property(cc.Prefab)\n    item: cc.Prefab = null;\n    @property(cc.Node)\n    layer: cc.Node = null;\n    // @property(cc.Node)\n    // layer1: cc.Node = null;\n    // @property(cc.Node)\n    // layer2: cc.Node = null;\n    // @property(cc.Node)\n    // layer3: cc.Node = null;\n    // @property(cc.Node)\n    // layer4: cc.Node = null;\n\n\n    mapData: number[][] = [];\n    arrayItem: number[] = [1, -1, -2, -1, 1, 1, -3, -1, 3, 2, 1, -1];\n\n    layerOut: cc.Node = null;\n    arrayOut: number[] = [];\n\n    // arrItem1 = [];\n    // arrItem2 = [2, 3, 3];\n    // arrItem3 = [3, 2, 2];\n    // arrItem4 = [1, 3, 1];\n\n    idxClick: number = -1;\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad() {\n        this.buildMap();\n    }\n\n    start() {\n\n    }\n    // update (dt) {}\n    buildMap() {\n        this.mapData = this.sliceArr(this.arrayItem, 4);\n        console.log(this.mapData)\n        for (let i = 0; i < this.mapData.length; i++) {\n            for (let j = 0; j < 4; j++) {\n                if (this.mapData[i][j] < 0) {\n                    this.mapData[i] = this.mapData[i].slice(0, j)\n                }\n            }\n            var item = cc.instantiate(this.item);\n            item.setParent(this.layer);\n            item.setPosition(-150 + i * 150, 0);\n            item.active = true;\n            item.name = (\"item\" + i)\n            console.log(\"quangngu\", item);\n            this.createIcon(this.mapData[i], item);\n            let scriptItem = item.getComponent(Item);\n            scriptItem.setUp(i, this.mapData[i]);\n\n            item.on(\"Click_binh\", () => {\n                console.log(\"this.layer.children[scriptItem.idItem]\", this.layer.children[scriptItem.idItem])\n                this.onClickItem(scriptItem.idItem, this.mapData[i], this.layer.children[scriptItem.idItem])\n            }, this)\n        }\n        // this.arrayItem = [];\n        // this.arrayItem.push(this.arrItem1, this.arrItem2, this.arrItem3, this.arrItem4)\n        // for (let i = 0; i < this.arrayItem.length; i++) {\n        //     this.createItem(this.arrayItem[i], this.layer.children[i]);\n        // }\n    }\n    // onHanlderClickLayer1() {\n    //     console.log(\"onHanlderClickLayer1\");\n    //     this.onClickItem(1, this.mapData[0], this.layer1);\n    // }\n    // onHanlderClickLayer2() {\n    //     console.log(\"onHanlderClickLayer2\");\n    //     this.onClickItem(2, this.mapData[1], this.layer2);\n    // }\n    // onHanlderClickLayer3() {\n    //     console.log(\"onHanlderClickLayer3\");\n    //     this.onClickItem(3, this.mapData[2], this.layer3);\n    // }\n    // onHanlderClickLayer4() {\n    //     console.log(\"onHanlderClickLayer4\");\n    //     this.onClickItem(4, this.mapData[3], this.layer4);\n    // }\n    onClickItem(idItem, arrItemClick, layerItemClick) {\n        console.log(\"onClickItem=--=-=-=\");\n        if (this.idxClick == -1) {\n            //chon diem bat dau\n            // arrItemClick cua item bay len\n            if (layerItemClick.childrenCount > 0) {\n                console.log(\"click chinh no ==> bay bong len \", layerItemClick.childrenCount);\n                this.moveBall(arrItemClick, layerItemClick, 1, layerItemClick);\n                this.idxClick = idItem;\n            }\n            if (this.layerOut) {\n                this.arrayOut = null;\n                this.layerOut = null;\n            } else {\n                this.layerOut = layerItemClick;\n                this.arrayOut = arrItemClick;\n            }\n            console.log(\"=-=-=-=-quang=-=-===-: \", this.layerOut);\n            console.log(\"=-=-=-=-quang=-=-===-: \", this.arrayOut);\n            this.idxClick == -1\n        } else {\n            if (this.idxClick == idItem) {\n                // chon dich den la diem bat dau\n                console.log(\"click chinh no lan nua ==> tha bong xuong\");\n                this.moveBall(arrItemClick, layerItemClick, 0, layerItemClick);\n                this.idxClick = -1;\n            } else {\n                console.log(\"dich den arrItemClick: \", arrItemClick);\n\n                // chon dich den la diem khac\n\n                // if (this.idxClick == 2) {\n                //     //   this.moveBall(this.arrItem2, this.layer2, 2, layerItemClick);\n                //     this.mapData[1] = this.onHanlderClickLayer(this.mapData[1], arrItemClick, this.layer2, layerItemClick);\n                //     console.log(\"dich den this.arrItem2: \", this.mapData[1]);\n                // } else if (this.idxClick == 3) {\n                //     //   this.moveBall(this.arrItem3, this.layer3, 2, layerItemClick);\n                //     this.mapData[2] = this.onHanlderClickLayer(this.mapData[2], arrItemClick, this.layer3, layerItemClick);\n                //     console.log(\"dich den this.arrItem3: \", this.mapData[2]);\n                // } else if (this.idxClick == 1) {\n                //     //   this.moveBall(this.arrItem1, this.layer1, 2, layerItemClick);\n                //     this.mapData[0] = this.onHanlderClickLayer(this.mapData[0], arrItemClick, this.layer1, layerItemClick);\n                //     console.log(\"dich den this.arrItem1: \", this.mapData[0]);\n                // } else if (this.idxClick == 4) {\n                //     //   this.moveBall(this.arrItem4, this.layer4, 2, layerItemClick);\n                //     this.mapData[3] = this.onHanlderClickLayer(this.mapData[3], arrItemClick, this.layer4, layerItemClick);\n                //     console.log(\"dich den this.arrItem4: \", this.mapData[3]);\n                // }\n                console.log(\"new this.arrayOut: =-=--=-=\", this.arrayOut);\n                console.log(\"new this.layerOut: \", this.layerOut);\n\n                // if (this.idxClick == idItem) {\n                //     //   this.moveBall(this.arrItem2, this.layer2, 2, layerItemClick);\n                //     console.log(\"new arrItemClick: \", arrItemClick);\n                //     console.log(\"new layerItemClick: \", layerItemClick);\n                arrItemClick = this.onHanlderClickLayer(this.arrayOut, arrItemClick, this.layerOut, layerItemClick);\n                // }\n                this.idxClick = -1;\n            }\n        }\n    }\n    onHanlderClickLayer(arrItem = [], arrItemClick = [], layerOut, layerIn) {\n        // arrItemClick cua dich den\n        console.log(\"arrItem ban dau : \", arrItem);\n        console.log(\"arrItemClick ban dau : \", arrItemClick);\n\n        // lay phan tu cuoi cung\n        let arrMove = [arrItem[arrItem.length - 1]];\n        // lay nhung phan tu giong phan tu cuoi\n        if (arrItem.length > 1) {\n            for (let i = arrItem.length - 2; i > -1; i--) {\n                if (arrItem[i] == arrMove[0]) {\n                    arrMove.push(arrItem[i]);\n                } else {\n                    break;\n                }\n            }\n        }\n        console.log(\"arrMove : \", arrMove);\n        let arrIndexRemove = [];\n        for (let i = arrItem.length - 1; i > arrItem.length - 1 - arrMove.length; i--) {\n            arrIndexRemove.push(i);\n        }\n        // console.log(\"array index remove=--=-=-=-==-=-: \", arrIndexRemove);\n        // check max item\n        let maxItem = arrItemClick.length + arrMove.length;\n        if (maxItem > 4) {\n            this.moveBall(arrItem, layerOut, 0, layerIn);\n            console.log(\"maxItem ==> khong di chuyen duoc\", arrItemClick, arrItem)\n            return arrItem;\n        } else {\n            // xu ly di chuyen\n            // check cung mau cho di chuyen\n            if (arrItemClick[arrItemClick.length - 1] == arrMove[arrMove.length - 1] || arrItemClick.length < 1) {\n                for (let i = 0; i < arrMove.length; i++) {\n                    arrItemClick.push(arrMove[i]);\n                }\n                this.moveBall(arrItem, layerOut, 2, layerIn);\n                let index = arrItem.length - arrMove.length;\n                arrItem = arrItem.slice(0, index);\n                console.log(\"ban dau slice : \", arrItem);\n                console.log(\"dich den sau khi di chuyen: \", arrItemClick);\n                return arrItem;\n            } else {\n                this.moveBall(arrItem, layerOut, 0, layerIn);\n                console.log(\"arrItem\", arrItem, \"layerOut\", layerOut, \"layerIn\", layerIn);\n                console.log(\"chua di chuyen duoc\");\n                return arrItem;\n            }\n        }\n\n    }\n    moveBall(arrItem, layerOut, idx, layerIn) {\n        let arrMove = [arrItem[arrItem.length - 1]];\n        if (arrItem.length > 1) {\n            for (let i = arrItem.length - 2; i > -1; i--) {\n                if (arrItem[i] == arrMove[0]) {\n                    arrMove.push(arrItem[i]);\n                } else {\n                    break;\n                }\n            }\n        }\n\n        let arrIndexRemove = [];\n        for (let i = arrItem.length - 1; i > arrItem.length - 1 - arrMove.length; i--) {\n            arrIndexRemove.push(i);\n        }\n        console.log(\"arrIndexRemove=-=-=-=-\", arrIndexRemove)\n        console.log(\"layout=-=-=-=-\", layerOut)\n\n        for (let i = 0; i < arrIndexRemove.length; i++) {\n            let icon = layerOut.children[arrIndexRemove[i]];\n            // console.log(\"quang layerOut.children -=-=-=-=-=-\", layerOut.children)\n            console.log(\"quang arrIndexRemove -=-=-=-=-=-\", arrIndexRemove, arrIndexRemove[i])\n\n            // let pos = layerIn.parent.convertToWorldSpaceAR(layerIn.position);\n            // let pos1 = icon.convertToNodeSpaceAR(pos);\n            if (idx == 1) {\n                cc.tween(icon)\n                    .to(0.2, { y: layerOut.position.y + 300 + i * -30 })\n                    .start();\n            } else if (idx == 0) {\n                cc.tween(icon)\n                    .to(0.2, { y: layerOut.position.y + arrIndexRemove[i] * 50 })\n                    .start();\n            } else if (idx == 2) {\n                layerIn.getComponent(cc.Button).interactable = false;\n                layerOut.getComponent(cc.Button).interactable = false;\n                console.log(\"=-=-=-quang=-===-\", layerIn)\n                console.log(\"=-=-=-quang=-===-\", icon)\n\n                icon.setParent(layerIn);\n                let a = layerOut.parent.convertToWorldSpaceAR(layerOut.position);\n                let b = icon.convertToNodeSpaceAR(a);\n                icon.setPosition(b.x, layerOut.position.y + 300)\n                cc.tween(icon)\n                    .to(0.3, { x: 0 })\n                    .to(0.3, { y: layerIn.position.y + (layerIn.childrenCount - 1) * 50 })\n                    .call(() => {\n                        layerOut.removeChild(icon, true);\n                    })\n                    .call(() => {\n                        // icon.setPosition(0, layerIn.childrenCount * 50);\n                        // layerIn.addChild(icon);\n                        layerIn.getComponent(cc.Button).interactable = true;\n                        layerOut.getComponent(cc.Button).interactable = true;\n                    })\n                    .start();\n            }\n        }\n    }\n    createIcon(arr = [], layer) {\n        for (let i = 0; i < arr.length; i++) {\n            let pos = layer.position;\n            let icon = cc.instantiate(this.iconPrefab);\n            console.log(\"=-=-==\", arr[i])\n            icon.getComponent(ItemPrefab).setIndex(arr[i]);\n            icon.setParent(layer);\n            icon.x = 0;\n            icon.y = pos.y + i * 50;\n            // layer.addChild(icon);\n        }\n    }\n    sliceArr(arr: number[], count: number): number[][] {\n        let array: number[][] = [];\n        for (let j = 0; j < arr.length; j += count) {\n            let array1 = arr.slice(j, j + count)\n            array.push(array1)\n        }\n        return array;\n    }\n\n}\n"]}