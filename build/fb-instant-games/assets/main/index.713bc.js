window.__require=function t(e,o,r){function n(i,c){if(!o[i]){if(!e[i]){var a=i.split("/");if(a=a[a.length-1],!e[a]){var s="function"==typeof __require&&__require;if(!c&&s)return s(a,!0);if(l)return l(a,!0);throw new Error("Cannot find module '"+i+"'")}i=a}var p=o[i]={exports:{}};e[i][0].call(p.exports,function(t){return n(e[i][1][t]||t)},p,p.exports,t,e,o,r)}return o[i].exports}for(var l="function"==typeof __require&&__require,i=0;i<r.length;i++)n(r[i]);return n}({Ball:[function(t,e,o){"use strict";cc._RF.push(e,"2c9f2XjLmxHG4QiouC7Z6Up","Ball");var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),l=this&&this.__decorate||function(t,e,o,r){var n,l=arguments.length,i=l<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,r);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(i=(l<3?n(i):l>3?n(e,o,i):n(e,o))||i);return l>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,c=i.ccclass,a=i.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e}return n(e,t),e.prototype.start=function(){},e.prototype.setUp=function(){},l([a(cc.Label)],e.prototype,"label",void 0),l([a],e.prototype,"text",void 0),l([c],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],ItemPrefab:[function(t,e,o){"use strict";cc._RF.push(e,"cf3d5WKFfdFt7J9J7OhFA5w","ItemPrefab");var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),l=this&&this.__decorate||function(t,e,o,r){var n,l=arguments.length,i=l<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,r);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(i=(l<3?n(i):l>3?n(e,o,i):n(e,o))||i);return l>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,c=i.ccclass,a=i.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.arrIcon=[],e}return n(e,t),e.prototype.start=function(){},e.prototype.setIndex=function(t){for(var e=0;e<this.arrIcon.length;e++)e==t?this.arrIcon[t].active=!0:this.arrIcon[e].active=!1},l([a([cc.Node])],e.prototype,"arrIcon",void 0),l([c],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],Item:[function(t,e,o){"use strict";cc._RF.push(e,"af9a4qiEpVEGLobT+PDI9si","Item");var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),l=this&&this.__decorate||function(t,e,o,r){var n,l=arguments.length,i=l<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,r);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(i=(l<3?n(i):l>3?n(e,o,i):n(e,o))||i);return l>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,c=i.ccclass,a=i.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.icon=null,e.idItem=0,e.listNode=new Array(4),e}return n(e,t),e.prototype.onLoad=function(){},e.prototype.setUp=function(t,e){this.reset(),this.idItem=t,this.arrColor=e},e.prototype.start=function(){},e.prototype.onClickItem=function(){console.log("qwer",this.idItem),this.node.emit("Click_binh",this)},e.prototype.reset=function(){this.listNode=new Array(4)},l([a(cc.Node)],e.prototype,"icon",void 0),l([c],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],PlayGame:[function(t,e,o){"use strict";cc._RF.push(e,"53d85Z2aV1DErlTG3qYp7qq","PlayGame");var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),l=this&&this.__decorate||function(t,e,o,r){var n,l=arguments.length,i=l<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,r);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(i=(l<3?n(i):l>3?n(e,o,i):n(e,o))||i);return l>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=t("./Ball"),c=(t("./Item"),cc._decorator),a=c.ccclass,s=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.content=null,e.item=null,e.ball=null,e.spriteIcon=[],e.arrMap=[2,3,2,2,-1,-1,-2,-3,-1,-1,-2,-2],e.mapData=[],e.listItem=[],e.listBall=[],e.itemSelect=null,e}return n(e,t),e.prototype.start=function(){},e.prototype.onLoad=function(){},e.prototype.onClickItem=function(t){var e=this.listBall[t.idItem],o=(e[0],t.node.getPosition());null!==this.itemSelect?this.itemSelect.idItem==t.idItem?(console.log(" xuong"),this.selectColorBall(t.arrColor,e,o,0),this.itemSelect=null):(console.log(" len sang",this.itemSelect.idItem),this.selectColorBall(this.itemSelect.arrColor,this.listBall[this.itemSelect.idItem],o,0,!0),console.log("this.itemSelect.arrColor",this.itemSelect.arrColor.reverse()),console.log("this.listBall[this.itemSelect.idItem]",this.listBall[this.itemSelect.idItem]),console.log("item.arrColor reverse",t.arrColor.reverse()),console.log("listChild",e)):(console.log("Len"),console.log("Len",e),this.itemSelect=t,this.selectColorBall(t.arrColor,e,o,1))},e.prototype.sliceArr=function(t,e){for(var o=[],r=0;r<t.length;r+=e){var n=t.slice(r,r+e);o.push(n)}return o},e.prototype.creatBall=function(t){var e=t.arrColor;console.log("arrColor=---==",e);for(var o=[],r=e.length-1,n=0;r>=0;r--,n++){var l=e[r],c=cc.instantiate(this.ball);c.setParent(this.content);var a=t.node.children[n];c.getComponent(cc.Sprite).spriteFrame=this.spriteIcon[l];var s=a.parent.convertToWorldSpaceAR(a.position),p=this.content.convertToNodeSpaceAR(s);c.setPosition(p),c.active=!0;var h=c.getComponent(i.default);h.setUp(l),o.push(h)}t.listNode=o,this.listBall[t.idItem]=o},e.prototype.onClickIconBall=function(){},e.prototype.selectColorBall=function(t,e,o,r,n){void 0===t&&(t=[]),void 0===e&&(e=[]),void 0===n&&(n=!1),t[0]==t[1]&&t[1]!==t[2]&&null!==t[1]&&null!==t[2]?(console.log("selectColorBall 1"),0==n?1==r?this.moveBallUp(e,2,o,!1):this.moveBallDown(e,2,o):this.moveBallUp(e,2,o,!0)):t[0]==t[1]&&t[1]==t[2]&&t[2]!==t[3]?(console.log("selectColorBall 2"),0==n?1==r?this.moveBallUp(e,3,o):this.moveBallDown(e,3,o):this.moveBallUp(e,3,o,!0)):t[0]==t[1]&&t[1]==t[2]&&t[2]==t[3]?(console.log("selectColorBall 3"),0==n?1==r?this.moveBallUp(e,4,o):this.moveBallDown(e,4,o):this.moveBallUp(e,3,o,!0)):(console.log("selectColorBall 4"),0==n?1==r?this.moveBallUp(e,1,o):this.moveBallDown(e,1,o):this.moveBallUp(e,1,o,!0))},e.prototype.moveBallUp=function(t,e,o,r){void 0===t&&(t=[]),void 0===r&&(r=!1);for(var n=0;n<e;n++)0==r?cc.tween(t[n].node).to(.2,{y:o.y+300-50*n}).start():(console.log("position",o),cc.tween(t[n].node).to(.2,{x:o.x+50}).to(.2,{y:90-60*n}).start())},e.prototype.moveBallDown=function(t,e){void 0===t&&(t=[]);for(var o=0;o<e;o++)cc.tween(t[o].node).to(.2,{y:90-60*o}).start()},l([s(cc.Node)],e.prototype,"content",void 0),l([s(cc.Prefab)],e.prototype,"item",void 0),l([s(cc.Prefab)],e.prototype,"ball",void 0),l([s([cc.SpriteFrame])],e.prototype,"spriteIcon",void 0),l([a],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./Ball":"Ball","./Item":"Item"}],newPlayGame:[function(t,e,o){"use strict";cc._RF.push(e,"a4f9env1UNJUJQdMcCvN+A6","newPlayGame");var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),l=this&&this.__decorate||function(t,e,o,r){var n,l=arguments.length,i=l<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,r);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(i=(l<3?n(i):l>3?n(e,o,i):n(e,o))||i);return l>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../ItemPrefab"),c=cc._decorator,a=c.ccclass,s=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.itemPrefab=null,e.layer=null,e.layer1=null,e.layer2=null,e.layer3=null,e.layer4=null,e.arrayItem=[],e.arrItem1=[],e.arrItem2=[2,3,3],e.arrItem3=[3,2,2],e.arrItem4=[1,3,1],e.idxClick=-1,e}return n(e,t),e.prototype.onLoad=function(){this.buildMap()},e.prototype.start=function(){},e.prototype.buildMap=function(){this.arrayItem=[],this.arrayItem.push(this.arrItem1,this.arrItem2,this.arrItem3,this.arrItem4);for(var t=0;t<this.arrayItem.length;t++)this.createItem(this.arrayItem[t],this.layer.children[t])},e.prototype.onHanlderClickLayer1=function(){console.log("onHanlderClickLayer1"),this.onClickItem(1,this.arrItem1,this.layer1)},e.prototype.onHanlderClickLayer2=function(){console.log("onHanlderClickLayer2"),this.onClickItem(2,this.arrItem2,this.layer2)},e.prototype.onHanlderClickLayer3=function(){console.log("onHanlderClickLayer3"),this.onClickItem(3,this.arrItem3,this.layer3)},e.prototype.onHanlderClickLayer4=function(){console.log("onHanlderClickLayer4"),this.onClickItem(4,this.arrItem4,this.layer4)},e.prototype.onClickItem=function(t,e,o){console.log("onClickItem=--=-=-="),-1==this.idxClick?(o.childrenCount>0&&(console.log("click chinh no ==> bay bong len ",e),this.moveBall(e,o,1,o),this.idxClick=t),this.idxClick):this.idxClick==t?(console.log("click chinh no lan nua ==> tha bong xuong"),this.moveBall(e,o,0,o),this.idxClick=-1):(2==this.idxClick?(this.arrItem2=this.onHanlderClickLayer(this.arrItem2,e,this.layer2,o),console.log("dich den this.arrItem2: ",this.arrItem2)):3==this.idxClick?(this.arrItem3=this.onHanlderClickLayer(this.arrItem3,e,this.layer3,o),console.log("dich den this.arrItem3: ",this.arrItem3)):1==this.idxClick?(this.arrItem1=this.onHanlderClickLayer(this.arrItem1,e,this.layer1,o),console.log("dich den this.arrItem1: ",this.arrItem1)):4==this.idxClick&&(this.arrItem4=this.onHanlderClickLayer(this.arrItem4,e,this.layer4,o),console.log("dich den this.arrItem4: ",this.arrItem4)),this.idxClick=-1)},e.prototype.onHanlderClickLayer=function(t,e,o,r){void 0===t&&(t=[]),void 0===e&&(e=[]),console.log("arrItem ban dau : ",t),console.log("arrItemClick ban dau : ",e);var n=[t[t.length-1]];if(t.length>1)for(var l=t.length-2;l>-1&&t[l]==n[0];l--)n.push(t[l]);console.log("arrMove : ",n);var i=[];for(l=t.length-1;l>t.length-1-n.length;l--)i.push(l);if(e.length+n.length>4)return this.moveBall(t,o,0,r),t;if(e[e.length-1]==n[n.length-1]||e.length<1){for(l=0;l<n.length;l++)e.push(n[l]);this.moveBall(t,o,2,r);var c=t.length-n.length;return t=t.slice(0,c),console.log("ban dau slice : ",t),console.log("dich den sau khi di chuyen: ",e),t}return this.moveBall(t,o,0,r),console.log("arrItem",t,"layerOut",o,"layerIn",r),console.log("chua di chuyen duoc"),t},e.prototype.moveBall=function(t,e,o,r){var n=[t[t.length-1]];if(t.length>1)for(var l=t.length-2;l>-1&&t[l]==n[0];l--)n.push(t[l]);var i=[];for(l=t.length-1;l>t.length-1-n.length;l--)i.push(l);console.log("arrIndexRemove=-=-=-=-",i);var c=function(t){var n=e.children[i[t]],l=r.parent.convertToWorldSpaceAR(r.position),c=n.convertToNodeSpaceAR(l);1==o?cc.tween(n).to(.2,{y:e.position.y+300+-50*t}).start():0==o?cc.tween(n).to(.2,{y:e.position.y+50*i[t]}).start():2==o&&(r.getComponent(cc.Button).interactable=!1,e.getComponent(cc.Button).interactable=!1,cc.tween(n).to(.2,{x:c.x}).to(.2,{y:50*r.childrenCount}).delay(.1).call(function(){e.removeChild(n,!0)}).call(function(){n.setPosition(0,50*r.childrenCount),r.addChild(n),r.getComponent(cc.Button).interactable=!0,e.getComponent(cc.Button).interactable=!0}).start())};for(l=0;l<i.length;l++)c(l)},e.prototype.createItem=function(t,e){void 0===t&&(t=[]);for(var o=0;o<t.length;o++){var r=cc.instantiate(this.itemPrefab);r.getComponent(i.default).setIndex(t[o]),r.x=0,r.y=50*o,e.addChild(r)}},l([s(cc.Node)],e.prototype,"itemPrefab",void 0),l([s(cc.Node)],e.prototype,"layer",void 0),l([s(cc.Node)],e.prototype,"layer1",void 0),l([s(cc.Node)],e.prototype,"layer2",void 0),l([s(cc.Node)],e.prototype,"layer3",void 0),l([s(cc.Node)],e.prototype,"layer4",void 0),l([a],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../ItemPrefab":"ItemPrefab"}]},{},["ItemPrefab","Ball","Item","PlayGame","newPlayGame"]);